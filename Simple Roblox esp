local Players = game:GetService("Players")
local workspace = game:GetService("Workspace")

-- Crosshair variables
local camera = workspace.CurrentCamera
local crosshairFrame = Instance.new("Frame")

-- Function to change crosshair color
local function changeCrosshairColor()
  local r = math.random(0, 1)
  local g = math.random(0, 1)
  local b = math.random(0, 1)
  crosshairFrame.BackgroundColor3 = Color3.fromRGB(r, g, b)
end

-- Function to rotate crosshair
local function rotateCrosshair()
  crosshairFrame.Rotation = crosshairFrame.Rotation + 1
end

-- Function to create ESP with crosshair
local function createESP(player)
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

    local esp = Instance.new("BillboardGui")
    esp.Parent = humanoidRootPart
    esp.Size = UDim2.new(3, 0, 3, 0)
    esp.AlwaysOnTop = true

    -- ... (Rest of the original ESP script)

    -- Create SurfaceGui for crosshair (optional, for transparency)
    -- local surfaceGui = Instance.new("SurfaceGui")
    -- surfaceGui.Parent = esp
    -- surfaceGui.CanvasSize = UDim2.new(1, 0, 1, 0)

    -- Create crosshair Frame (parent to SurfaceGui if used)
    crosshairFrame.Parent = esp
    crosshairFrame.Size = UDim2.new(0.1, 0, 0.1, 0)  -- Adjust size as needed
    crosshairFrame.BackgroundColor3 = Color3.fromRGB(1, 1, 1) -- Initial white color

    -- Connect functions to timer
    game:GetService("RunService").Heartbeat:Connect(function(dt)
        changeCrosshairColor()
        rotateCrosshair()
    end)
end

-- Apply ESP to existing players
for _, player in pairs(Players:GetPlayers()) do
    createESP(player)
end

-- Apply ESP to new players joining
Players.PlayerAdded:Connect(createESP)
