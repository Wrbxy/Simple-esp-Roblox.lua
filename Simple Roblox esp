local Players = game:GetService("Players")
local workspace = game:GetService("Workspace")

local blueColor = Color3.fromRGB(0, 0, 255)

local function createESP(player)
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

    local esp = Instance.new("BillboardGui")
    esp.Parent = humanoidRootPart
    esp.Size = UDim2.new(3, 0, 3, 0)
    esp.AlwaysOnTop = true

    -- Remove the Frame instance to remove the blue outline
    -- local surfaceGui = Instance.new("SurfaceGui")
    -- surfaceGui.Parent = esp
    -- surfaceGui.CanvasSize = UDim2.new(1, 0, 1, 0)

    -- local frame = Instance.new("Frame")
    -- frame.Parent = surfaceGui
    -- frame.Size = UDIM2.new(1, 0, 1, 0)
    -- frame.BackgroundColor3 = blueColor
    -- frame.BorderSizePixel = 0
    -- frame.Transparency = 0.5
end

-- Apply ESP to all existing players
for _, player in pairs(Players:GetPlayers()) do
    createESP(player)
end

-- Apply ESP to new players joining
Players.PlayerAdded:Connect(createESP)
