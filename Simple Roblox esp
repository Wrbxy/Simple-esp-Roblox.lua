local players = game:GetService("Players")
local runService = game:GetService("RunService")

-- Function to draw a line (skeleton part) between two points
local function createLine(startPos, endPos, color)
    local line = Instance.new("Line")
    line.From = startPos
    line.To = endPos
    line.Color = color
    line.Transparency = 0 -- Fully opaque
    line.Thickness = 2 -- Sets the thickness of the line
    line.Parent = workspace
    return line
end

-- Function to draw the skeleton ESP
local function drawSkeleton(player)
    local character = player.Character
    if not character or not character:FindFirstChild("Humanoid") then 
        return 
    end

    -- Define arms, legs, head and torso
    local head = character:FindFirstChild("Head")
    local torso = character:FindFirstChild("Torso") or character:FindFirstChild("UpperTorso")
    local leftArm = character:FindFirstChild("Left Arm") or character:FindFirstChild("LeftArm")
    local rightArm = character:FindFirstChild("Right Arm") or character:FindFirstChild("RightArm")
    local leftLeg = character:FindFirstChild("Left Leg") or character:FindFirstChild("LeftLeg")
    local rightLeg = character:FindFirstChild("Right Leg") or character:FindFirstChild("RightLeg")

    local color = Color3.fromRGB(255, 0, 0) -- Specify your color here, for example, red

    -- Create lines representing bones of the skeleton
    createLine(torso.Position, head.Position, color)         -- Torso to Head
    createLine(torso.Position, leftArm.Position, color)     -- Torso to Left Arm
    createLine(torso.Position, rightArm.Position, color)    -- Torso to Right Arm
    createLine(torso.Position, leftLeg.Position, color)     -- Torso to Left Leg
    createLine(torso.Position, rightLeg.Position, color)    -- Torso to Right Leg
    createLine(leftArm.Position, rightArm.Position, color) -- Left Arm to Right Arm
end

-- Main adding loop to render ESP
runService.RenderStepped:Connect(function()
    for _, player in ipairs(players:GetPlayers()) do
        if player ~= players.LocalPlayer then
            drawSkeleton(player)
        end
    end
end)
